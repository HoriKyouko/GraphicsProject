<!DOCTYPE html>
<!--Created By: Steven Michael Zielinski-->
<!--For: CAP5725 Assignment 3 -->
<!--When running the project the first model shown is with the correct 
    material. Clicking the threejs checkbox will show the 
    MeshPhongMaterial model and deselecting it will show my fragment
    and vertex shaders with the same settings.-->

<html>
    <head>
        <script src="https://threejs.org/build/three.js"></script>
        <script>
            "use strict";

            let texture = new THREE.TextureLoader().load("./neg-x.png",
                function(tex)
                {
                    var imagedata = getImageData( tex.image );
                    var color = getPixel( imagedata, 10, 10 ); // Get pixel color of col 11 and row 11.
                    console.log(color);

                    function getImageData( image ) 
                    {

                        var canvas = document.createElement( 'canvas' );
                        canvas.width = image.width;
                        canvas.height = image.height;

                        var context = canvas.getContext( '2d' );
                        context.drawImage( image, 0, 0 );

                        return context.getImageData( 0, 0, image.width, image.height );

                    }

                    function getPixel( imagedata, x, y ) 
                    {

                        var position = ( x + imagedata.width * y ) * 4, data = imagedata.data;
                        return { r: data[ position ]/255, g: data[ position + 1 ]/255, b: data[ position + 2 ]/255, a: data[ position + 3 ]/255 };

                    }
                }); 
        </script>
    </head>
</html>